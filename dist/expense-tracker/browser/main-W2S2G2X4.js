import{a}from"./chunk-TAIADCAT.js";import{a as F,b as H,c as s,d as V,e as B,f as G,g as l}from"./chunk-2PDLQISM.js";import{Ab as T,Bb as w,Ca as C,Eb as D,Mb as $,Na as A,Nb as j,Oa as o,Pa as r,Qa as M,R as c,Ra as I,Sa as L,T as _,Ta as S,Ua as O,Va as b,X as x,Y as k,Za as P,_a as i,ab as E,ac as z,fb as y,gb as R,ib as N,pa as v,ta as h,za as m}from"./chunk-2AP6R54K.js";function X(t,n){if(t&1){let e=S();I(0),o(1,"a",7),i(2,"Add Transaction"),r(),o(3,"span",8),i(4),r(),o(5,"a",9),O("click",function(){x(e);let g=b();return k(g.logout())}),i(6,"Logout"),r(),L()}if(t&2){let e=b();v(4),E("Welcome, ",e.userEmail)}}function Y(t,n){t&1&&(o(0,"a",10),i(1,"Login"),r(),o(2,"a",11),i(3,"Register"),r())}var u=class t{constructor(n,e){this.authService=n;this.router=e;this.isLoggedIn$=this.authService.isLoggedIn$,this.userEmail=this.authService.email,this.isLoggedIn$.subscribe(()=>this.userEmail=this.authService.email)}isLoggedIn$;userEmail=null;logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||t)(h(a),h(s))};static \u0275cmp=m({type:t,selectors:[["app-navbar"]],decls:11,vars:4,consts:[["loggedOut",""],[1,"navbar"],[1,"left-links"],["routerLink","/dashboard","routerLinkActive","active-link"],["routerLink","/transactions","routerLinkActive","active-link"],[1,"right-links"],[4,"ngIf","ngIfElse"],["routerLink","/add-transaction","routerLinkActive","active-link"],[1,"user-email"],[3,"click"],["routerLink","/login","routerLinkActive","active-link"],["routerLink","/register","routerLinkActive","active-link"]],template:function(e,p){if(e&1&&(o(0,"nav",1)(1,"div",2)(2,"a",3),i(3,"Dashboard"),r(),o(4,"a",4),i(5,"Transactions"),r()(),o(6,"div",5),C(7,X,7,1,"ng-container",6),y(8,"async"),C(9,Y,4,0,"ng-template",null,0,N),r()()),e&2){let g=P(10);v(7),A("ngIf",R(8,2,p.isLoggedIn$))("ngIfElse",g)}},dependencies:[l,V,B,D,T,w],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#222;padding:12px 20px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ddd;margin:0 10px;text-decoration:none;font-weight:500;transition:color .2s}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.navbar[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{color:#fc0;border-bottom:2px solid #ffcc00}.navbar[_ngcontent-%COMP%]   .user-email[_ngcontent-%COMP%]{color:#aaa;margin-right:15px;font-style:italic}.navbar[_ngcontent-%COMP%]   .left-links[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .right-links[_ngcontent-%COMP%]{display:flex;align-items:center}"]})};var d=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,p){e&1&&M(0,"app-navbar")(1,"router-outlet")},dependencies:[l,H,u],encapsulation:2})};var f=(t,n)=>{let e=c(a),p=c(s);return e.token?!0:(p.navigate(["/login"],{queryParams:{returnUrl:n.url}}),!1)};var U=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadComponent:()=>import("./chunk-DRMV5DAW.js").then(t=>t.DashboardComponent),canActivate:[f]},{path:"add-transaction",loadComponent:()=>import("./chunk-VMGJYKBY.js").then(t=>t.AddTransactionComponent),canActivate:[f]},{path:"transactions",loadComponent:()=>import("./chunk-CUJBBNOD.js").then(t=>t.TransactionsComponent),canActivate:[f]},{path:"login",loadComponent:()=>import("./chunk-2JSWQOIL.js").then(t=>t.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-BEINY26S.js").then(t=>t.RegisterComponent)},{path:"**",redirectTo:"dashboard"}];var W=(t,n)=>{let e=c(a).token;return e&&(t=t.clone({setHeaders:{Authorization:`Bearer ${e}`}})),n(t)};F(d,{providers:[_(z),G(U),$(j([W]))]});

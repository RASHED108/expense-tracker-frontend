"use strict";(self.webpackChunkexpense_tracker=self.webpackChunkexpense_tracker||[]).push([[865],{1865:(f,g,r)=>{r.r(g),r.d(g,{AddTransactionComponent:()=>_});var u=r(2200),t=r(4341),a=r(2615),e=r(3664),c=r(3366),p=r(7277);let _=(()=>{class m{api;router;model={type:"expense",amount:0,category:"Food",date:(new Date).toISOString().slice(0,10),note:""};saving=!1;error="";constructor(i,d){this.api=i,this.router=d}saveTransaction(){!(this.model.type&&this.model.category?.trim()&&this.model.date&&this.model.note?.trim()&&null!==this.model.amount)||isNaN(Number(this.model.amount))||Number(this.model.amount)<=0?alert("Please fill in all fields with valid values."):(this.saving=!0,this.error="",this.api.addTransaction({type:this.model.type,category:this.model.category,amount:Number(this.model.amount),date:this.model.date,note:this.model.note.trim()}).subscribe({next:()=>{this.saving=!1,this.router.navigate(["/transactions"])},error:i=>{this.saving=!1,this.error=i?.error?.error||"Failed to save transaction",alert(this.error)}}))}static \u0275fac=function(d){return new(d||m)(e.rXU(c.G),e.rXU(p.Ix))};static \u0275cmp=e.VBU({type:m,selectors:[["app-add-transaction"]],decls:42,vars:6,consts:[["txForm","ngForm"],["novalidate","",3,"ngSubmit"],["for","type"],["id","type","name","type","required","",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","income"],["value","expense"],["for","amount"],["id","amount","type","number","name","amount","required","","min","0.01","step","0.01","inputmode","decimal","autocomplete","off",3,"ngModelChange","ngModel"],["for","category"],["id","category","name","category","required","",3,"ngModelChange","ngModel"],["value","Food"],["value","Rent"],["value","Transport"],["value","Entertainment"],["for","date"],["id","date","type","date","name","date","required","",3,"ngModelChange","ngModel"],["for","note"],["id","note","type","text","name","note","required","","maxlength","80","autocomplete","off",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"]],template:function(d,o){if(1&d){const l=e.RV6();e.j41(0,"h2"),e.EFF(1,"Add a New Transaction"),e.k0s(),e.j41(2,"form",1,0),e.bIt("ngSubmit",function(){return a.eBV(l),a.Njj(o.saveTransaction())}),e.j41(4,"label",2),e.EFF(5,"Type:"),e.k0s(),e.j41(6,"select",3),e.mxI("ngModelChange",function(n){return a.eBV(l),e.DH7(o.model.type,n)||(o.model.type=n),a.Njj(n)}),e.j41(7,"option",4),e.EFF(8,"-- Select type --"),e.k0s(),e.j41(9,"option",5),e.EFF(10,"Income"),e.k0s(),e.j41(11,"option",6),e.EFF(12,"Expense"),e.k0s()(),e.nrm(13,"br"),e.j41(14,"label",7),e.EFF(15,"Amount:"),e.k0s(),e.j41(16,"input",8),e.mxI("ngModelChange",function(n){return a.eBV(l),e.DH7(o.model.amount,n)||(o.model.amount=n),a.Njj(n)}),e.k0s(),e.nrm(17,"br"),e.j41(18,"label",9),e.EFF(19,"Category:"),e.k0s(),e.j41(20,"select",10),e.mxI("ngModelChange",function(n){return a.eBV(l),e.DH7(o.model.category,n)||(o.model.category=n),a.Njj(n)}),e.j41(21,"option",4),e.EFF(22,"-- Select a category --"),e.k0s(),e.j41(23,"option",11),e.EFF(24,"Food"),e.k0s(),e.j41(25,"option",12),e.EFF(26,"Rent"),e.k0s(),e.j41(27,"option",13),e.EFF(28,"Transport"),e.k0s(),e.j41(29,"option",14),e.EFF(30,"Entertainment"),e.k0s()(),e.nrm(31,"br"),e.j41(32,"label",15),e.EFF(33,"Date:"),e.k0s(),e.j41(34,"input",16),e.mxI("ngModelChange",function(n){return a.eBV(l),e.DH7(o.model.date,n)||(o.model.date=n),a.Njj(n)}),e.k0s(),e.nrm(35,"br"),e.j41(36,"label",17),e.EFF(37,"Note:"),e.k0s(),e.j41(38,"input",18),e.mxI("ngModelChange",function(n){return a.eBV(l),e.DH7(o.model.note,n)||(o.model.note=n),a.Njj(n)}),e.k0s(),e.nrm(39,"br"),e.j41(40,"button",19),e.EFF(41,"Save"),e.k0s()()}if(2&d){const l=e.sdS(3);e.R7$(6),e.R50("ngModel",o.model.type),e.R7$(10),e.R50("ngModel",o.model.amount),e.R7$(4),e.R50("ngModel",o.model.category),e.R7$(14),e.R50("ngModel",o.model.date),e.R7$(4),e.R50("ngModel",o.model.note),e.R7$(2),e.Y8G("disabled",!l.form.valid)}},dependencies:[u.MD,t.YN,t.qT,t.xH,t.y7,t.me,t.Q0,t.wz,t.BC,t.cb,t.YS,t.tU,t.VZ,t.vS,t.cV],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:30px auto;display:flex;flex-direction:column;gap:15px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:3px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px;font-size:1rem;border:1px solid #ccc;border-radius:4px}form[_ngcontent-%COMP%]   #type[_ngcontent-%COMP%]{background-color:#f0f8ff;font-weight:700}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:#ffc107;border:none;border-radius:5px;cursor:pointer;font-weight:700;font-size:1rem;transition:background-color .2s ease-in-out}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0a800}"]})}return m})()}}]);